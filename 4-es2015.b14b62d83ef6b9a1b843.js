(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{gQYv:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class e{constructor(){}}var i=t("pMnS"),o=t("iInd");class r{constructor(){}ngOnInit(){}}var a=u.nb({encapsulation:0,styles:[["h4[_ngcontent-%COMP%]{color:#fff;background:#000;padding:10px 0}.card[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px;box-shadow:2px 2px #d3d3d3}"]],data:{}});function s(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,8,"div",[["class","card"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.zb(l,1).onClick()&&e),e}),null,null)),u.ob(1,16384,null,0,o.m,[o.l,o.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.Ab(2,2),(l()(),u.pb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),u.Gb(4,null,["",""])),(l()(),u.pb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Gb(6,null,["",""])),(l()(),u.pb(7,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Gb(8,null,["",""]))],(function(l,n){var t=l(n,2,0,"profile/details",n.component.contact.id);l(n,1,0,t)}),(function(l,n){var t=n.component;l(n,4,0,t.contact.name),l(n,6,0,t.contact.email),l(n,8,0,t.contact.phone)}))}var c=t("SVse");class b{constructor(){}ngOnInit(){}}var p=u.nb({encapsulation:0,styles:[[".card-list-container[_ngcontent-%COMP%]{width:100%}.card-list[_ngcontent-%COMP%]{margin:0 10px 30px}.more[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:0 50% 30px 40%}"]],data:{}});function d(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,2,"div",[["class","col-md-4 col-sm-6"]],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,1,"app-card",[],null,null,null,s,a)),u.ob(2,114688,null,0,r,[],{contact:[0,"contact"]},null)],(function(l,n){l(n,2,0,n.context.$implicit)}),null)}function h(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,2,"div",[["class","row card-list"]],null,null,null,null,null)),(l()(),u.eb(16777216,null,null,1,null,d)),u.ob(3,278528,null,0,c.i,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.contactList)}),null)}function g(l){return u.Ib(0,[(l()(),u.eb(16777216,null,null,1,null,h)),u.ob(1,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.contactList)}),null)}var m=t("s7LF");class f{constructor(l){this.contactService=l,this.search=new m.e("",[])}ngOnInit(){this.filterTextSub=this.contactService.filterText.subscribe(l=>{this.search.setValue(l||"")})}filterProducts(){this.contactService.updateFilterText(this.search.value)}ngOnDestroy(){this.filterTextSub.unsubscribe()}}var v=t("AytR"),C=t("XNiG"),_=t("2Vo4"),L=t("HDdC");function y(l,n){return new L.a(n?t=>n.schedule(x,0,{error:l,subscriber:t}):n=>n.error(l))}function x({error:l,subscriber:n}){n.error(l)}var z=t("lJxs"),I=t("JIr8"),k=t("IheW");let E=(()=>{class l{constructor(l){this.http=l,this.isLoadedOnce=!1,this.error=new C.a,this._filterText=new _.a(""),this._contactList=new _.a([]),this._filteredContactList=new _.a([]),this._contact=new _.a(null),this._contactFirstLetters=new _.a([]),this._filterText.subscribe(()=>{this.isLoadedOnce||this.searchContactList(),this.filter(this._filterText.value)}),this.contactList.subscribe(()=>{this.filter(this._filterText.value)})}get filterText(){return this._filterText.asObservable()}updateFilterText(l){this._filterText.next(l)}get contactList(){return this._contactList.asObservable()}get filteredContactList(){return this._filteredContactList.asObservable()}get contact(){return this._contact.asObservable()}get contactFirstLetters(){return this._contactFirstLetters.asObservable()}searchContactList(){return this.http.get(v.a.IS_LOCAL_DATABASE?v.a.LOCAL_DATABASE:v.a.SERVER_DATABASE).pipe(Object(z.a)(l=>l),Object(z.a)(l=>{const n=this._filterText.value?l.filter(l=>-1!==l.name.toLocaleLowerCase().indexOf(this._filterText.value.toLocaleLowerCase())):l;this._contactList.next(n),this.filter(this._filterText.value),this.updateFirstLetter(n)}),Object(I.a)(l=>y(l))).subscribe(l=>l,l=>{this.error.next(l.message)})}filter(l){const n=l?this._contactList.value.filter(n=>-1!==n.name.toLocaleLowerCase().indexOf(l.toLocaleLowerCase())):this._contactList.value;this._filteredContactList.next(n),this.updateFirstLetter(this._filteredContactList.value)}searchContact(l){return this.http.get(v.a.SERVER_DATABASE+`/${l}`).pipe(Object(z.a)(l=>l),Object(z.a)(l=>{this._contact.next(l)}),Object(I.a)(l=>y(l))).subscribe(l=>l,l=>{this.error.next(l)})}updateContact(l){this.setContactRequest(v.a.SERVER_DATABASE+`/${l.id}`,l,"PUT")}newContact(l){this.setContactRequest(v.a.SERVER_DATABASE,l,"POST")}setContactRequest(l,n,t){switch(t){case"PUT":return this.http.put(l,n).pipe(Object(z.a)(l=>{this.refreshList()})).subscribe();case"POST":return this.http.post(l,n).pipe(Object(z.a)(l=>{this.refreshList()})).subscribe(l=>l,l=>{this.error.next(l)})}}deleteContact(l){return this.http.delete(v.a.SERVER_DATABASE+`/${l}`).pipe(Object(z.a)(l=>{this.refreshList()})).subscribe(l=>l,l=>{this.error.next(l)})}updateFirstLetter(l){const n=[];l.forEach(l=>{n.includes(l.name[0].toLocaleLowerCase())||n.push(l.name[0].toLocaleLowerCase())}),this._contactFirstLetters.next(n)}refreshList(){this.searchContactList()}localSearchContactList(l){const n=v.a.LOCAL_DATABASE;if(!this.isLoadedOnce)return this.isLoadedOnce=!0,this.http.get(n).pipe(Object(z.a)(l=>l),Object(z.a)(n=>{const t=n.find(n=>n.id===l);this._contact.next(t)}),Object(I.a)(l=>y(l))).subscribe(l=>l,l=>{this.error.next(l.message)});{const n=this._contactList.value.find(n=>n.id===l);this._contact.next(n)}}deleteLocalContact(l){const n=this._contactList.value.filter(n=>n.id!==l);this._contactList.next(n)}updateLocalContact(l){const n=this._contactList.value;for(let t=0;t<n.length;t++)if(l.id===n[t].id){n[t]=l;break}this._contactList.next(n)}addLocalContact(l){const n=this._contactList.value;n.push(l),this._contactList.next(n)}}return l.ngInjectableDef=u.Lb({factory:function(){return new l(u.Mb(k.c))},token:l,providedIn:"root"}),l})();var S=u.nb({encapsulation:0,styles:[["@media only screen and (max-width:576px){.input__container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}}@media only screen and (min-width:577px){.input__container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}input[_ngcontent-%COMP%]{max-width:300px;margin-right:20px}}"]],data:{}});function O(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,6,"div",[["class","input__container"]],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,5,"input",[["id","live-search"],["placeholder","Search for contact..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.zb(l,2)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.zb(l,2).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.zb(l,2)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.zb(l,2)._compositionEnd(t.target.value)&&e),"keyup"===n&&(e=!1!==i.filterProducts()&&e),e}),null,null)),u.ob(2,16384,null,0,m.c,[u.B,u.k,[2,m.a]],null,null),u.Eb(1024,null,m.j,(function(l){return[l]}),[m.c]),u.ob(4,540672,null,0,m.f,[[8,null],[8,null],[6,m.j],[2,m.r]],{form:[0,"form"]},null),u.Eb(2048,null,m.k,null,[m.f]),u.ob(6,16384,null,0,m.l,[[4,m.k]],null,null)],(function(l,n){l(n,4,0,n.component.search)}),(function(l,n){l(n,1,0,u.zb(n,6).ngClassUntouched,u.zb(n,6).ngClassTouched,u.zb(n,6).ngClassPristine,u.zb(n,6).ngClassDirty,u.zb(n,6).ngClassValid,u.zb(n,6).ngClassInvalid,u.zb(n,6).ngClassPending)}))}class w{constructor(l){this.contactService=l,this.selectedIndex=-1,this.activeFirstLetter=new u.m}ngOnInit(){this.firstLetterSub=this.contactService.contactFirstLetters.subscribe(l=>{this.firstLetters=l,this.removeElementClass()})}selectFirstLetter(l,n){this.setElementClassToActive(n),this.activeFirstLetter.emit(l)}ngOnDestroy(){this.firstLetterSub.unsubscribe()}setElementClassToActive(l){this.selectedIndex=l}removeElementClass(){this.setElementClassToActive(-1)}}var P=u.nb({encapsulation:0,styles:[[".first__letter__container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.first__letter__container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px;padding:10px;font-weight:700;font-size:24px}.first__letter__container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:red}"]],data:{}});function T(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,2,"h2",[],[[2,"active",null]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.selectFirstLetter(l.context.$implicit,l.context.index)&&u),u}),null,null)),(l()(),u.Gb(1,null,[" ",""])),u.Db(2,1)],null,(function(l,n){l(n,0,0,n.component.selectedIndex===n.context.index);var t=u.Hb(n,1,0,l(n,2,0,u.zb(n.parent,0),n.context.$implicit));l(n,1,0,t)}))}function A(l){return u.Ib(0,[u.Bb(0,c.o,[]),(l()(),u.pb(1,0,null,null,2,"div",[["class","first__letter__container"]],null,null,null,null,null)),(l()(),u.eb(16777216,null,null,1,null,T)),u.ob(3,278528,null,0,c.i,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.firstLetters)}),null)}class j{constructor(l){this.contactService=l}ngOnInit(){this.contactSub=this.contactService.filteredContactList.subscribe(l=>{this.contactList=l,this.filteredContactList=[...this.contactList]})}ngOnDestroy(){this.contactSub.unsubscribe()}filterListByFirstLetter(l){this.filteredContactList=l?this.contactList.filter(n=>n.name[0].toLocaleLowerCase()===l.toLocaleLowerCase()):this.contactList}}var M=u.nb({encapsulation:0,styles:[[".go__new__contact[_ngcontent-%COMP%]{background:red;color:#fff!important;width:50px;height:50px;border-radius:100px;text-align:center;font-size:35px;position:fixed;bottom:50px;right:50px}.go__new__contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}"]],data:{}});function G(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"app-contact-list",[],null,null,null,g,p)),u.ob(1,114688,null,0,b,[],{contactList:[0,"contactList"]},null)],(function(l,n){l(n,1,0,n.component.filteredContactList)}),null)}function D(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Empty list"]))],null,null)}function B(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"app-search",[],null,null,null,O,S)),u.ob(1,245760,null,0,f,[E],null,null),(l()(),u.pb(2,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Contacts"])),(l()(),u.pb(4,0,null,null,1,"app-first-letter-filter",[],null,[[null,"activeFirstLetter"]],(function(l,n,t){var u=!0;return"activeFirstLetter"===n&&(u=!1!==l.component.filterListByFirstLetter(t)&&u),u}),A,P)),u.ob(5,245760,null,0,w,[E],null,{activeFirstLetter:"activeFirstLetter"}),(l()(),u.eb(16777216,null,null,1,null,G)),u.ob(7,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u.eb(0,[["emptyList",2]],null,0,null,D)),(l()(),u.pb(9,0,null,null,3,"div",[["class","go__new__contact"]],null,null,null,null,null)),(l()(),u.pb(10,0,null,null,2,"a",[["routerLink","profile/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.zb(l,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e}),null,null)),u.ob(11,671744,null,0,o.n,[o.l,o.a,c.g],{routerLink:[0,"routerLink"]},null),(l()(),u.Gb(-1,null,[" + "]))],(function(l,n){var t=n.component;l(n,1,0),l(n,5,0),l(n,7,0,0!==(null==t.filteredContactList?null:t.filteredContactList.length),u.zb(n,8)),l(n,11,0,"profile/new")}),(function(l,n){l(n,10,0,u.zb(n,11).target,u.zb(n,11).href)}))}function F(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"app-contact-page",[],null,null,null,B,M)),u.ob(1,245760,null,0,j,[E],null,null)],(function(l,n){l(n,1,0)}),null)}var N=u.lb("app-contact-page",j,F,{},{},[]);class V{static validate(l){return/^[\+]+[0-9]/.test(l.value)&&l.value.length>=11&&l.value.length<=12?null:{invalidPhone:!0}}}class q{constructor(l,n,t,u){this.router=l,this.route=n,this.contactService=t,this.fb=u,this.error=null,this.contact=null,this.emailControl=new m.e("",[m.o.required,m.o.email]),this.nameControl=new m.e("",[m.o.required]),this.phoneControl=new m.e("",[V.validate]),this.form=u.group({email:this.emailControl,name:this.nameControl,phone:this.phoneControl})}ngOnInit(){this.errorSub=this.contactService.error.subscribe(l=>{this.error=l})}save(){this.contact=this.form.value,this.contact.id=this.setId(),v.a.IS_LOCAL_DATABASE?(this.contactService.addLocalContact(this.contact),this.router.navigateByUrl("contacts")):(this.contactService.newContact(this.contact),this.router.navigateByUrl("contacts"))}setId(){return Math.floor(1e5*Math.random())}ngOnDestroy(){this.errorSub.unsubscribe()}}var J=u.nb({encapsulation:0,styles:[[""]],data:{}});function U(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Name is required "]))],null,null)}function R(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Email is required "]))],null,null)}function K(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Not valid email "]))],null,null)}function $(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Not valid format. Phone number must contains + and 10 or 11 numbers. Example: +1234567891 "]))],null,null)}function H(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Add New Contact"])),(l()(),u.pb(2,0,null,null,38,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,t){var e=!0,i=l.component;return"submit"===n&&(e=!1!==u.zb(l,4).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.zb(l,4).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.save()&&e),e}),null,null)),u.ob(3,16384,null,0,m.s,[],null,null),u.ob(4,540672,null,0,m.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Eb(2048,null,m.b,null,[m.h]),u.ob(6,16384,null,0,m.m,[[4,m.b]],null,null),(l()(),u.pb(7,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Name"])),(l()(),u.pb(9,0,null,null,5,"input",[["formControlName","name"],["name","name"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.zb(l,10)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.zb(l,10).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.zb(l,10)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.zb(l,10)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(10,16384,null,0,m.c,[u.B,u.k,[2,m.a]],null,null),u.Eb(1024,null,m.j,(function(l){return[l]}),[m.c]),u.ob(12,671744,null,0,m.g,[[3,m.b],[8,null],[8,null],[6,m.j],[2,m.r]],{name:[0,"name"]},null),u.Eb(2048,null,m.k,null,[m.g]),u.ob(14,16384,null,0,m.l,[[4,m.k]],null,null),(l()(),u.eb(16777216,null,null,1,null,U)),u.ob(16,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(17,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Email"])),(l()(),u.pb(19,0,null,null,5,"input",[["formControlName","email"],["name","email"],["placeholder","Enter Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.zb(l,20)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.zb(l,20).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.zb(l,20)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.zb(l,20)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(20,16384,null,0,m.c,[u.B,u.k,[2,m.a]],null,null),u.Eb(1024,null,m.j,(function(l){return[l]}),[m.c]),u.ob(22,671744,null,0,m.g,[[3,m.b],[8,null],[8,null],[6,m.j],[2,m.r]],{name:[0,"name"]},null),u.Eb(2048,null,m.k,null,[m.g]),u.ob(24,16384,null,0,m.l,[[4,m.k]],null,null),(l()(),u.eb(16777216,null,null,1,null,R)),u.ob(26,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.eb(16777216,null,null,1,null,K)),u.ob(28,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(29,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Phone"])),(l()(),u.pb(31,0,null,null,5,"input",[["formControlName","phone"],["name","phone"],["placeholder","Enter Phone"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.zb(l,32)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.zb(l,32).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.zb(l,32)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.zb(l,32)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(32,16384,null,0,m.c,[u.B,u.k,[2,m.a]],null,null),u.Eb(1024,null,m.j,(function(l){return[l]}),[m.c]),u.ob(34,671744,null,0,m.g,[[3,m.b],[8,null],[8,null],[6,m.j],[2,m.r]],{name:[0,"name"]},null),u.Eb(2048,null,m.k,null,[m.g]),u.ob(36,16384,null,0,m.l,[[4,m.k]],null,null),(l()(),u.eb(16777216,null,null,1,null,$)),u.ob(38,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(39,0,null,null,1,"button",[["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),u.Gb(-1,null,[" Add Contact "]))],(function(l,n){var t=n.component;l(n,4,0,t.form),l(n,12,0,"name"),l(n,16,0,t.form.get("name").hasError("required")&&t.form.get("name").dirty),l(n,22,0,"email"),l(n,26,0,t.form.get("email").hasError("required")&&t.form.get("email").dirty),l(n,28,0,t.form.get("email").hasError("email")&&t.form.get("email").dirty),l(n,34,0,"phone"),l(n,38,0,t.form.get("phone").hasError("invalidPhone")&&t.form.get("phone").dirty)}),(function(l,n){var t=n.component;l(n,2,0,u.zb(n,6).ngClassUntouched,u.zb(n,6).ngClassTouched,u.zb(n,6).ngClassPristine,u.zb(n,6).ngClassDirty,u.zb(n,6).ngClassValid,u.zb(n,6).ngClassInvalid,u.zb(n,6).ngClassPending),l(n,9,0,u.zb(n,14).ngClassUntouched,u.zb(n,14).ngClassTouched,u.zb(n,14).ngClassPristine,u.zb(n,14).ngClassDirty,u.zb(n,14).ngClassValid,u.zb(n,14).ngClassInvalid,u.zb(n,14).ngClassPending),l(n,19,0,u.zb(n,24).ngClassUntouched,u.zb(n,24).ngClassTouched,u.zb(n,24).ngClassPristine,u.zb(n,24).ngClassDirty,u.zb(n,24).ngClassValid,u.zb(n,24).ngClassInvalid,u.zb(n,24).ngClassPending),l(n,31,0,u.zb(n,36).ngClassUntouched,u.zb(n,36).ngClassTouched,u.zb(n,36).ngClassPristine,u.zb(n,36).ngClassDirty,u.zb(n,36).ngClassValid,u.zb(n,36).ngClassInvalid,u.zb(n,36).ngClassPending),l(n,39,0,t.form.invalid)}))}function X(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"app-new-contact",[],null,null,null,H,J)),u.ob(1,245760,null,0,q,[o.l,o.a,E,m.d],null,null)],(function(l,n){l(n,1,0)}),null)}var Y=u.lb("app-new-contact",q,X,{},{},[]);class Q{constructor(){this.error=null}ngOnInit(){}}var W=u.nb({encapsulation:0,styles:[[".error[_ngcontent-%COMP%]{margin:auto;text-align:center;color:red}"]],data:{}});function Z(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,6,"div",[["class","error"]],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Gb(2,null,[" "," - ",""])),(l()(),u.pb(3,0,null,null,3,"a",[["routerLink","/contacts"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.zb(l,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e}),null,null)),u.ob(4,671744,null,0,o.n,[o.l,o.a,c.g],{routerLink:[0,"routerLink"]},null),(l()(),u.pb(5,0,null,null,1,"button",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Go to Contact Page"]))],(function(l,n){l(n,4,0,"/contacts")}),(function(l,n){var t=n.component;l(n,2,0,t.error.status,t.error.statusText),l(n,3,0,u.zb(n,4).target,u.zb(n,4).href)}))}class ll{constructor(l,n,t,u){this.router=l,this.route=n,this.contactService=t,this.fb=u,this.editAble=!1,this.error=null,this.contact=null,this.emailControl=new m.e("",[m.o.required,m.o.email]),this.nameControl=new m.e("",[m.o.required]),this.phoneControl=new m.e("",[V.validate]),this.form=u.group({email:this.emailControl,name:this.nameControl,phone:this.phoneControl})}ngOnInit(){this.errorSub=this.contactService.error.subscribe(l=>{this.error=l}),this.contactSub=this.contactService.contact.subscribe(l=>{this.contact=l,this.contact&&this.contactInit(this.contact)}),this.route.paramMap.subscribe(l=>{l.has("id")?v.a.IS_LOCAL_DATABASE?this.contactService.localSearchContactList(+l.get("id")):this.contactService.searchContact(l.get("id")):this.router.navigateByUrl("/contact")})}contactInit(l){this.emailControl.setValue(l.email||""),this.nameControl.setValue(l.name||""),this.phoneControl.setValue(l.phone||"")}save(){this.contact.name=this.form.value.name,this.contact.email=this.form.value.email,this.contact.phone=this.form.value.phone,this.isLocalDatabase?(this.contactService.updateLocalContact(this.contact),this.router.navigateByUrl("contacts")):(this.contactService.updateContact(this.contact),this.router.navigateByUrl("contacts"))}delete(){this.isLocalDatabase?(this.contactService.deleteLocalContact(this.contact.id),this.router.navigateByUrl("contacts")):(this.contactService.deleteContact(this.contact.id.toString()),this.router.navigateByUrl("contacts"))}isValidPhone(l){return/^[\+]+[0-9]/.test(l)&&l.length>=10&&l.length<=11}ngOnDestroy(){this.contactSub.unsubscribe()}get isLocalDatabase(){return v.a.IS_LOCAL_DATABASE}}var nl=u.nb({encapsulation:0,styles:[[".not__exist[_ngcontent-%COMP%]{margin:auto;text-align:center}.read__only__profile[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;margin:auto;width:100%;max-width:250px}.read__only__block[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.read__only__block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:right;margin-right:30px}.button__container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}"]],data:{}});function tl(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"app-error",[],null,null,null,Z,W)),u.ob(1,114688,null,0,Q,[],{error:[0,"error"]},null)],(function(l,n){l(n,1,0,n.component.error)}),null)}function ul(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,23,"div",[["class","read__only__profile"]],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,4,"div",[["class","read__only__block"]],null,null,null,null,null)),(l()(),u.pb(2,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Name:"])),(l()(),u.pb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Gb(5,null,["",""])),(l()(),u.pb(6,0,null,null,4,"div",[["class","read__only__block"]],null,null,null,null,null)),(l()(),u.pb(7,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Email:"])),(l()(),u.pb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Gb(10,null,["",""])),(l()(),u.pb(11,0,null,null,7,"div",[["class","read__only__block"]],null,null,null,null,null)),(l()(),u.pb(12,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Phone:"])),(l()(),u.pb(14,0,null,null,4,"p",[],null,null,null,null,null)),u.Eb(512,null,c.r,c.s,[u.q,u.r,u.k,u.B]),u.ob(16,278528,null,0,c.h,[c.r],{ngClass:[0,"ngClass"]},null),u.Cb(17,{error:0}),(l()(),u.Gb(18,null,["",""])),(l()(),u.pb(19,0,null,null,4,"div",[["class","button__container"]],null,null,null,null,null)),(l()(),u.pb(20,0,null,null,1,"button",[["class","warning"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.delete()&&u),u}),null,null)),(l()(),u.Gb(-1,null,["Delete"])),(l()(),u.pb(22,0,null,null,1,"button",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=0!=(l.component.editAble=!0)&&u),u}),null,null)),(l()(),u.Gb(-1,null,["Edit"]))],(function(l,n){var t=n.component,u=l(n,17,0,!t.isValidPhone(t.contact.phone));l(n,16,0,u)}),(function(l,n){var t=n.component;l(n,5,0,t.contact.name),l(n,10,0,t.contact.email),l(n,18,0,t.contact.phone)}))}function el(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Name is required "]))],null,null)}function il(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Email is required "]))],null,null)}function ol(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Not valid email "]))],null,null)}function rl(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"p",[["class","error"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,[" Not valid format. Phone number must contains + and 10 or 11 numbers. Example: +1234567891 "]))],null,null)}function al(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,38,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,t){var e=!0,i=l.component;return"submit"===n&&(e=!1!==u.zb(l,2).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.zb(l,2).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.save()&&e),e}),null,null)),u.ob(1,16384,null,0,m.s,[],null,null),u.ob(2,540672,null,0,m.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Eb(2048,null,m.b,null,[m.h]),u.ob(4,16384,null,0,m.m,[[4,m.b]],null,null),(l()(),u.pb(5,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Name"])),(l()(),u.pb(7,0,null,null,5,"input",[["formControlName","name"],["name","name"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.zb(l,8)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.zb(l,8).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.zb(l,8)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.zb(l,8)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(8,16384,null,0,m.c,[u.B,u.k,[2,m.a]],null,null),u.Eb(1024,null,m.j,(function(l){return[l]}),[m.c]),u.ob(10,671744,null,0,m.g,[[3,m.b],[8,null],[8,null],[6,m.j],[2,m.r]],{name:[0,"name"]},null),u.Eb(2048,null,m.k,null,[m.g]),u.ob(12,16384,null,0,m.l,[[4,m.k]],null,null),(l()(),u.eb(16777216,null,null,1,null,el)),u.ob(14,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(15,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Email"])),(l()(),u.pb(17,0,null,null,5,"input",[["formControlName","email"],["name","email"],["placeholder","Enter Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.zb(l,18)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.zb(l,18).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.zb(l,18)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.zb(l,18)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(18,16384,null,0,m.c,[u.B,u.k,[2,m.a]],null,null),u.Eb(1024,null,m.j,(function(l){return[l]}),[m.c]),u.ob(20,671744,null,0,m.g,[[3,m.b],[8,null],[8,null],[6,m.j],[2,m.r]],{name:[0,"name"]},null),u.Eb(2048,null,m.k,null,[m.g]),u.ob(22,16384,null,0,m.l,[[4,m.k]],null,null),(l()(),u.eb(16777216,null,null,1,null,il)),u.ob(24,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.eb(16777216,null,null,1,null,ol)),u.ob(26,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(27,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Phone"])),(l()(),u.pb(29,0,null,null,5,"input",[["formControlName","phone"],["name","phone"],["placeholder","Enter Phone"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.zb(l,30)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.zb(l,30).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.zb(l,30)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.zb(l,30)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(30,16384,null,0,m.c,[u.B,u.k,[2,m.a]],null,null),u.Eb(1024,null,m.j,(function(l){return[l]}),[m.c]),u.ob(32,671744,null,0,m.g,[[3,m.b],[8,null],[8,null],[6,m.j],[2,m.r]],{name:[0,"name"]},null),u.Eb(2048,null,m.k,null,[m.g]),u.ob(34,16384,null,0,m.l,[[4,m.k]],null,null),(l()(),u.eb(16777216,null,null,1,null,rl)),u.ob(36,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(37,0,null,null,1,"button",[["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),u.Gb(-1,null,[" Save Contact "]))],(function(l,n){var t=n.component;l(n,2,0,t.form),l(n,10,0,"name"),l(n,14,0,t.form.get("name").hasError("required")&&t.form.get("name").dirty),l(n,20,0,"email"),l(n,24,0,t.form.get("email").hasError("required")&&t.form.get("email").dirty),l(n,26,0,t.form.get("email").hasError("email")&&t.form.get("email").dirty),l(n,32,0,"phone"),l(n,36,0,t.form.get("phone").hasError("invalidPhone")&&t.form.get("phone").dirty)}),(function(l,n){var t=n.component;l(n,0,0,u.zb(n,4).ngClassUntouched,u.zb(n,4).ngClassTouched,u.zb(n,4).ngClassPristine,u.zb(n,4).ngClassDirty,u.zb(n,4).ngClassValid,u.zb(n,4).ngClassInvalid,u.zb(n,4).ngClassPending),l(n,7,0,u.zb(n,12).ngClassUntouched,u.zb(n,12).ngClassTouched,u.zb(n,12).ngClassPristine,u.zb(n,12).ngClassDirty,u.zb(n,12).ngClassValid,u.zb(n,12).ngClassInvalid,u.zb(n,12).ngClassPending),l(n,17,0,u.zb(n,22).ngClassUntouched,u.zb(n,22).ngClassTouched,u.zb(n,22).ngClassPristine,u.zb(n,22).ngClassDirty,u.zb(n,22).ngClassValid,u.zb(n,22).ngClassInvalid,u.zb(n,22).ngClassPending),l(n,29,0,u.zb(n,34).ngClassUntouched,u.zb(n,34).ngClassTouched,u.zb(n,34).ngClassPristine,u.zb(n,34).ngClassDirty,u.zb(n,34).ngClassValid,u.zb(n,34).ngClassInvalid,u.zb(n,34).ngClassPending),l(n,37,0,t.form.invalid)}))}function sl(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Gb(2,null,["","'s Profile"])),(l()(),u.eb(16777216,null,null,1,null,ul)),u.ob(4,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u.eb(0,[["editForm",2]],null,0,null,al))],(function(l,n){l(n,4,0,!n.component.editAble,u.zb(n,5))}),(function(l,n){l(n,2,0,n.component.contact.name)}))}function cl(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,6,"div",[["class","not__exist"]],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["User not exist"])),(l()(),u.pb(3,0,null,null,3,"a",[["routerLink","/contacts"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.zb(l,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e}),null,null)),u.ob(4,671744,null,0,o.n,[o.l,o.a,c.g],{routerLink:[0,"routerLink"]},null),(l()(),u.pb(5,0,null,null,1,"button",[],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Go to Contact Page"]))],(function(l,n){l(n,4,0,"/contacts")}),(function(l,n){l(n,3,0,u.zb(n,4).target,u.zb(n,4).href)}))}function bl(l){return u.Ib(0,[(l()(),u.eb(16777216,null,null,1,null,tl)),u.ob(1,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.eb(16777216,null,null,1,null,sl)),u.ob(3,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),u.eb(0,[["notExist",2]],null,0,null,cl))],(function(l,n){var t=n.component;l(n,1,0,t.error),l(n,3,0,t.contact,u.zb(n,4))}),null)}function pl(l){return u.Ib(0,[(l()(),u.pb(0,0,null,null,1,"app-edit-contact",[],null,null,null,bl,nl)),u.ob(1,245760,null,0,ll,[o.l,o.a,E,m.d],null,null)],(function(l,n){l(n,1,0)}),null)}var dl=u.lb("app-edit-contact",ll,pl,{},{},[]);const hl={title:"Contacts",animation:"contacts"},gl={title:"New Profile",animation:"newProfile"},ml={title:"Profile Details",animation:"details"};class fl{}var vl=t("PCNd");t.d(n,"ContactsModuleNgFactory",(function(){return Cl}));var Cl=u.mb(e,[],(function(l){return u.xb([u.yb(512,u.j,u.X,[[8,[i.a,N,Y,dl]],[3,u.j],u.v]),u.yb(4608,c.l,c.k,[u.s,[2,c.u]]),u.yb(4608,m.q,m.q,[]),u.yb(4608,m.d,m.d,[]),u.yb(1073742336,c.b,c.b,[]),u.yb(1073742336,m.p,m.p,[]),u.yb(1073742336,m.i,m.i,[]),u.yb(1073742336,m.n,m.n,[]),u.yb(1073742336,o.o,o.o,[[2,o.t],[2,o.l]]),u.yb(1073742336,fl,fl,[]),u.yb(1073742336,vl.a,vl.a,[]),u.yb(1073742336,e,e,[]),u.yb(1024,o.j,(function(){return[[{path:"",component:j,data:hl},{path:"profile",children:[{path:"new",data:gl,component:q},{path:"details/:id",data:ml,component:ll}]},{path:"",redirectTo:"",pathMatch:"full"}]]}),[])])}))}}]);